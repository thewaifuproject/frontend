{"version":3,"sources":["dist/api.js","dist/ABI.js","components/WaifuCard/WaifuCard.js","views/HistoryBid/HistoryBid.js"],"names":["web3","myContract","window","Web3","currentProvider","providers","HttpProvider","eth","Contract","contract","ABI","contractAddress","setCountDown","setupCoundownUI","wid","methods","creationTime","call","then","creationTimeString","Number","countDownDate","Date","getTime","day","Math","floor","month","numWaifus","pow","first","getWaifus","cback","Object","C_Users_SalahKarimAbdelbaki_Desktop_waifuchain_org_frontend_senpaimodeproject_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","Array","keys","map","x","startBid","waifuId","etherReal","etherFake","logged","getAccounts","accounts","length","console","log","account","secreto","min","max","random","bid","utils","soliditySha3","type","value","toWei","numberToHex","send","from","nid","nreal","nfake","nsecret","newbid","real","fake","secret","localStorage","getItem","setItem","JSON","stringify","logbids","wchainStorage","parse","hasOwnProperty","push","saveBidData","revealAll","waifus2reveal","addr","id","_values","forEach","_v","_fake","_f","_secret","_s","reveal","highestBidderByIDs","setupWinners","waifus2check","highestBidder","parseInt","address","claimWaifu","module","exports","constant","inputs","name","outputs","payable","stateMutability","anonymous","indexed","WaifuCard","props","_this","C_Users_SalahKarimAbdelbaki_Desktop_waifuchain_org_frontend_senpaimodeproject_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_Users_SalahKarimAbdelbaki_Desktop_waifuchain_org_frontend_senpaimodeproject_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_SalahKarimAbdelbaki_Desktop_waifuchain_org_frontend_senpaimodeproject_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","handleButtonClick","waifuLink","concat","location","bind","C_Users_SalahKarimAbdelbaki_Desktop_waifuchain_org_frontend_senpaimodeproject_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","toggle","state","dropdownOpen","waifuShortBio","waifuName","buttonColor","setState","prevState","_this2","fetch","res","clone","json","waifuImage","image","waifuDescription","description","fn","catch","error","message","typeT","Api","cardbody","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","reactstrap__WEBPACK_IMPORTED_MODULE_7__","className","href","replace","target","color","onClick","claim","mainButtonText","isOpen","caret","width","src","alt","Component","text","count","slice","getBidHistory","HistoryBid","toggleFade","setWaifuName","collapse","fadeIn","timeout","bidresults","waifuslog","waifuNames","own","pending","_this3","rows","unshift","key","scope","temp","_ref","Fragment","waifu","lg","md","sm","_components_WaifuCard_WaifuCard__WEBPACK_IMPORTED_MODULE_8__","in","waifus","hover","responsive","r","createCard"],"mappings":"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","file":"static/js/52.57bc724e.chunk.js","sourcesContent":["import Web3 from 'web3';\r\nimport contract from './ABI'\r\n\r\nlet web3\r\n\r\nif (typeof window.web3 !== 'undefined') {\r\n    web3 = new Web3(window.web3.currentProvider);\r\n} else {\r\n// set the provider you want from Web3.providers\r\n    web3 = new Web3(new Web3.providers.HttpProvider(\"http://localhost:8545\"));\r\n}\r\n\r\nconst myContract = new web3.eth.Contract(contract.ABI, contract.contractAddress)\r\n\r\nfunction getAccount(cback) {\r\n    web3.eth.getAccounts()\r\n        .then((accounts)=>{\r\n            cback(accounts[0])\r\n        })\r\n}\r\n\r\n/**    Api.getAccount((account)=>{\r\n      this.setState({\r\n          userAddr: account,\r\n      });\r\n  }) */\r\n\r\nfunction setCountDown(setupCoundownUI, wid) {\r\n    myContract\r\n        .methods\r\n        .creationTime()\r\n        .call()\r\n        .then( creationTimeString => {\r\n            var creationTime=Number(creationTimeString);\r\n            // Set the date we're counting down to\r\n            let countDownDate=new Date().getTime() + (1000*24*60*60 - ((new Date().getTime() - creationTime*1000)%(1000 * 60 * 60 * 24)));\r\n\r\n            let day=Math.floor((new Date()-creationTime*1000)/(1000*24*60*60));\r\n            let month=Math.floor(day/30);\r\n            if(month>3)\r\n                return []\r\n            let numWaifus=2**(3-month);\r\n            let first=450-((1-2**(4-month))/(1-2))*30+numWaifus*(day%30);\r\n\r\n            setupCoundownUI(countDownDate, (wid>=first))\r\n        })\r\n}\r\n\r\nfunction getWaifus(cback) {\r\n    myContract\r\n        .methods\r\n        .creationTime()\r\n        .call()\r\n        .then( creationTimeString => {\r\n            let day=Math.floor((new Date()-Number(creationTimeString)*1000)/(1000*24*60*60));\r\n            let month=Math.floor(day/30);\r\n            if(month>3)\r\n                return []\r\n            let numWaifus=2**(3-month);\r\n            let first=450-((1-2**(4-month))/(1-2))*30+numWaifus*(day%30);\r\n            cback([...Array(numWaifus).keys()].map((x)=>x+first))\r\n        })\r\n}\r\n\r\nfunction startBid(waifuId, etherReal, etherFake, logged){\r\n    web3.eth.getAccounts()\r\n        .then((accounts)=>{\r\n            logged(!accounts.length)\r\n            if (accounts.length){\r\n                console.log(accounts[0], waifuId, etherReal, etherFake)\r\n                bid(accounts[0], waifuId, etherReal, etherFake)\r\n            }\r\n        })\r\n}\r\n\r\nfunction bid(account, waifuId, etherReal, etherFake){\r\n    var secreto = getRandomInt(0,999999999999999)\r\n    myContract\r\n        .methods\r\n        .bid(waifuId, web3.utils.soliditySha3(\r\n                {type: 'uint256', value: web3.utils.toWei(etherReal)},\r\n                {type: 'bool', value: false},\r\n                {type: 'bytes32', value: web3.utils.numberToHex(secreto)}\r\n\t)).send({\r\n        from:account,\r\n        value:web3.utils.toWei(etherFake)\r\n    }).then(()=>{\r\n        saveBidData(account, waifuId, etherReal, etherFake, secreto)\r\n        console.log(\"puja realizada con exito\")\r\n    });\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min)) + min;\r\n}\r\n\r\nfunction saveBidData(account, nid, nreal, nfake, nsecret){\r\n    let newbid = {\r\n        'real': [nreal],\r\n        'fake': [nfake],\r\n        'secret': [nsecret]\r\n    }\r\n    if (localStorage.getItem(\"waifuchain\")==null){\r\n        localStorage.setItem(\"waifuchain\", JSON.stringify({ 'logbids' : { } }))\r\n    }\r\n    let wchainStorage = JSON.parse(localStorage.getItem(\"waifuchain\"))\r\n    if (!wchainStorage['logbids'].hasOwnProperty(account)){\r\n        wchainStorage['logbids'][account] = {}\r\n    }\r\n\r\n    if (wchainStorage['logbids'][account].hasOwnProperty(nid)){\r\n        wchainStorage['logbids'][account][nid]['real'].push(newbid['real'][0])\r\n        wchainStorage['logbids'][account][nid]['fake'].push(newbid['fake'][0])\r\n        wchainStorage['logbids'][account][nid]['secret'].push(newbid['secret'][0])\r\n    } else {\r\n        wchainStorage['logbids'][account][nid]=newbid;\r\n    }\r\n    localStorage.setItem('waifuchain', JSON.stringify(wchainStorage));\r\n}\r\nvar toType = function(obj) {\r\n    return ({}).toString.call(obj).match(/\\s([a-zA-Z]+)/)[1].toLowerCase()\r\n  }\r\nfunction revealAll(){\r\n    let waifus2reveal = JSON.parse(localStorage.getItem(\"waifuchain\"))['logbids']\r\n    console.log(waifus2reveal)\r\n    Object.keys(waifus2reveal).map(addr => {\r\n        Object.keys(waifus2reveal[addr]).map(id => {\r\n            let _values = []\r\n            waifus2reveal[addr][id]['real'].forEach( _v => _values.push(web3.utils.toWei(_v)))\r\n            let _fake = []\r\n            waifus2reveal[addr][id]['fake'].forEach( _f => _fake.push(false))\r\n            let _secret = []\r\n            waifus2reveal[addr][id]['secret'].forEach( _s => _secret.push(web3.utils.numberToHex(_s)))\r\n            myContract\r\n                .methods\r\n                .reveal(id, _values, _fake, _secret)\r\n                .send({from: addr})\r\n                .then( () => {\r\n                    console.log('OK', id)\r\n                })\r\n        })\r\n    })\r\n}\r\n\r\nfunction highestBidderByIDs(setupWinners){\r\n\r\n    getAccount((account)=>{\r\n        let waifus2check = JSON.parse(localStorage.getItem(\"waifuchain\"))['logbids']\r\n        console.log(waifus2check)\r\n        Object.keys(waifus2check).map(addr => {\r\n            Object.keys(waifus2check[addr]).map(id => {\r\n                myContract\r\n                    .methods\r\n                    .highestBidder(parseInt(id))\r\n                    .call()\r\n                    .then( (address) => {\r\n                        console.log('Highest bidder: ', address)\r\n                        setupWinners(id, address, account)\r\n                    })\r\n            })\r\n        })\r\n    })\r\n    \r\n}\r\n\r\nfunction claimWaifu(id){\r\n    myContract\r\n        .methods\r\n        .claimWaifu(id)\r\n        .call()\r\n        .then(() => {\r\n            console.log(\"Claimed \", id)\r\n            //save\r\n        })\r\n}\r\n\r\nexport {\r\n    setCountDown,\r\n    getWaifus,\r\n    getAccount,\r\n    startBid,\r\n    revealAll,\r\n    highestBidderByIDs,\r\n    claimWaifu\r\n };\r\n","module.exports.contractAddress=\"0x76ffb21b2c004e39aef756484c980ce8c81b7bd0\";\r\n\r\nmodule.exports.ABI=[\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"interfaceId\",\r\n\t\t\t\t\"type\": \"bytes4\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"supportsInterface\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"name\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"getApproved\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"approve\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"totalSupply\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"voteFundOwner\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"transferFrom\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"index\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"tokenOfOwnerByIndex\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"_tokenToProfile\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"withdraw\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"safeTransferFrom\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"highestBidder\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_URL\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"setBaseURL\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"index\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"tokenByIndex\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_values\",\r\n\t\t\t\t\"type\": \"uint256[]\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_fake\",\r\n\t\t\t\t\"type\": \"bool[]\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_secret\",\r\n\t\t\t\t\"type\": \"bytes32[]\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"reveal\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_profile\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"setWaifuProfile\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ownerOf\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"balanceOf\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"bids\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"blindedBid\",\r\n\t\t\t\t\"type\": \"bytes32\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"deposit\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"symbol\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_profile\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"getWaifusInProfile\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256[]\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"waifuIndex\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"claimWaifu\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"approved\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"setApprovalForAll\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"highestBid\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_data\",\r\n\t\t\t\t\"type\": \"bytes\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"safeTransferFrom\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"tokenURI\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"creationTime\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"transferFunds\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"operator\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"isApprovedForAll\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_blindedBid\",\r\n\t\t\t\t\"type\": \"bytes32\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"bid\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": true,\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_URL\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"voteBaseURL\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"getWaifuProfile\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"name\": \"waifuIndex\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"NewBid\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"Transfer\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"approved\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"Approval\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"operator\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"name\": \"approved\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ApprovalForAll\",\r\n\t\t\"type\": \"event\"\r\n\t}\r\n]\r\n","import React, { Component } from 'react';\r\nimport { Card, CardBody, CardImg, CardTitle, CardSubtitle, CardText } from 'reactstrap';\r\nimport { ButtonGroup, Button, ButtonDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport './WaifuCard.css';\r\n\r\nimport * as Api from '../../dist/api'\r\n\r\nclass WaifuCard extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleButtonClick = this.handleButtonClick.bind(this)\r\n    this.toggle = this.toggle.bind(this);\r\n    this.state = {\r\n      dropdownOpen: false,\r\n      waifuShortBio:'',\r\n      waifuName:'',\r\n      buttonColor: 'purple'\r\n    };\r\n    \r\n  }\r\n\r\n  toggle() {\r\n    this.setState(prevState => ({\r\n      dropdownOpen: !prevState.dropdownOpen\r\n    }));\r\n  }\r\n\r\n  componentWillMount() {\r\n    fetch('https://api.waifuchain.moe/?waifu='+this.props.id)\r\n    .then(res => {\r\n      return res.clone().json()\r\n    }).then(res => {\r\n      this.setState({ waifuName: res.name,\r\n                      waifuImage: res.image,\r\n                      waifuDescription: res.description,\r\n                      waifuShortBio: fn(res.description,50)});\r\n    }).catch(function(error) {\r\n      console.log('Hubo un problema con la petición Fetch:' + error.message);\r\n    });\r\n    \r\n    if (this.props.typeT=='claim'){\r\n      this.setState({buttonColor:'success'})\r\n    } else if (this.props.typeT=='lost') {\r\n      this.setState({buttonColor:'warning'})\r\n    }\r\n  }\r\n\r\n  handleButtonClick = () => {\r\n    const waifuLink = `#/waifus/${this.props.id}`\r\n    window.location=waifuLink\r\n  };\r\n\r\n  claim(){\r\n    if (this.props.typeT=='claim'){\r\n      Api.claimWaifu(this.props.id);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    \r\n    let cardbody = (\r\n        <CardBody>\r\n        <CardTitle>{this.state.waifuName}</CardTitle>\r\n        <CardText>{fn(this.state.waifuShortBio,50)}</CardText>\r\n          <ButtonGroup className=\"d-flex bd-highlight\">\r\n            <a className='nostile width100' href={\"https://waifu.wiki/index.php/\"+this.state.waifuName.replace(' ', '_')} target='__blank'><Button color={this.state.buttonColor} className=\"p-2 flex-grow-1 bd-highlight width100\" onClick={this.claim}>{this.props.mainButtonText}</Button></a>\r\n          </ButtonGroup>\r\n        </CardBody>\r\n    )\r\n    if (this.props.type=='drop'){\r\n      cardbody = (\r\n        <CardBody>\r\n            <CardTitle>{this.state.waifuName}</CardTitle>\r\n            {/*<CardSubtitle>Serie</CardSubtitle>*/}\r\n            <CardText>{fn(this.state.waifuShortBio,50)}</CardText>\r\n            <ButtonGroup className=\"d-flex bd-highlight\">\r\n            <Button color={this.state.buttonColor} className=\"p-2 flex-grow-1 bd-highlight\" onClick={this.handleButtonClick}>\r\n              {this.props.mainButtonText}\r\n            </Button>\r\n            <ButtonDropdown isOpen={this.state.dropdownOpen} toggle={this.toggle}>\r\n        <DropdownToggle color={this.state.buttonColor} caret></DropdownToggle>\r\n        <DropdownMenu>\r\n          <a className='nostile' href={\"https://waifu.wiki/index.php/\"+this.state.waifuName.replace(' ', '_')} target='__blank'><DropdownItem className=\"pointa\">See on the wiki</DropdownItem></a>\r\n        </DropdownMenu>\r\n      </ButtonDropdown>\r\n            </ButtonGroup>\r\n          </CardBody>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Card>\r\n          <CardImg className=\"fixedH-auction\" width=\"100%\" src={this.state.waifuImage} alt={this.state.waifuImage} />\r\n          {cardbody}\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nfunction fn(text, count){\r\n  return text.slice(0, count) + (text.length > count ? \"...\" : \"\");\r\n}\r\n\r\nexport default WaifuCard;","import React, { Component } from 'react';\r\nimport { Fade, Container, Table, Button, Col, Row } from 'reactstrap';\r\nimport WaifuCard from '../../components/WaifuCard/WaifuCard'\r\n\r\nimport './HistoryBid.css'\r\n\r\nimport * as Api from '../../dist/api'\r\n\r\nfunction getBidHistory(){\r\n    var log = JSON.parse(localStorage.getItem(\"waifuchain\"))\r\n    if (log==null)\r\n        return null\r\n    else\r\n        return log['logbids']\r\n}\r\n\r\n \r\n\r\nclass HistoryBid extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.toggle = this.toggle.bind(this);\r\n        this.toggleFade = this.toggleFade.bind(this);\r\n        this.getWaifus = this.getWaifus.bind(this)\r\n        this.revealAll = this.revealAll.bind(this)\r\n        this.setWaifuName = this.setWaifuName.bind(this)\r\n        this.state = {\r\n            collapse: true,\r\n            fadeIn: true,\r\n            timeout: 300,\r\n            bidresults: [],\r\n            waifuslog: getBidHistory(),\r\n            waifuNames: {}\r\n        };\r\n\r\n        Api.highestBidderByIDs((id, addr, account) => {\r\n            console.log((this.state.bidresults))\r\n            this.setState({\r\n                bidresults: this.state.bidresults.concat({id:id, own:(addr==account), pending:true}),\r\n            });\r\n        })\r\n    }\r\n\r\n    componentWillMount() {\r\n        Object.keys(this.state.waifuslog).map(addr =>\r\n            Object.keys(this.state.waifuslog[addr]).map(id => \r\n                fetch('https://api.waifuchain.moe/?waifu='+id)\r\n                    .then(res => {\r\n                        return res.clone().json()\r\n                    }).then(res => {\r\n                        this.setWaifuName(id, res.name)\r\n                    }).catch(function(error) {\r\n                        console.log('Hubo un problema con la petición Fetch:' + error.message);\r\n                    })\r\n            )\r\n        )\r\n    }\r\n\r\n    toggle() {\r\n        this.setState({ collapse: !this.state.collapse });\r\n    }\r\n\r\n    toggleFade() {\r\n        this.setState((prevState) => { return { fadeIn: !prevState }});\r\n    }\r\n\r\n    getWaifus() {\r\n        let rows = []\r\n        if (this.state.waifuslog==null || Object.keys(this.state.waifuslog).length == 0)\r\n            rows.push()\r\n        else\r\n            Object.keys(this.state.waifuslog).map(addr =>\r\n                Object.keys(this.state.waifuslog[addr]).map(id => \r\n                    rows.unshift(<tr key={id}>\r\n                        <th scope=\"row\">{id}</th>\r\n                        <td>{this.state.waifuNames[id]}</td>\r\n                        <td>{this.state.waifuslog[addr][id]['real']}</td>\r\n                        <td>{this.state.waifuslog[addr][id]['fake']}</td>\r\n                        <td>{this.state.waifuslog[addr][id]['secret']}</td>\r\n                        <td>{addr}</td>\r\n                    </tr>)\r\n                )\r\n            )\r\n        return rows\r\n    }\r\n\r\n    revealAll() {\r\n        Api.revealAll();\r\n    }\r\n\r\n    setWaifuName(id, name){\r\n        let temp = this.state.waifuNames\r\n        temp[id] = name\r\n        this.setState( {waifuNames:temp} )\r\n    }\r\n\r\n    createCard(bidresults){\r\n        const WaifusList = ({bidresults}) => (\r\n            <>\r\n            {bidresults.map(waifu => (\r\n                <Col lg=\"3\" md=\"4\" sm=\"6\" key={waifu['id']} >\r\n                    <WaifuCard id={waifu['id']} mainButtonText={(waifu['own']) ? \"Claim now\" : ((waifu['pending']) ? \"Pending\" : \"Lost\")} typeT={(waifu['own']) ? \"claim\" : ((waifu['pending']) ? \"pending\" : \"lost\")}/>\r\n                </Col>\r\n            ))}\r\n            </>\r\n        );\r\n        return <WaifusList bidresults={bidresults} />;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"animated fadeIn\">\r\n            <Fade timeout={this.state.timeout} in={this.state.fadeIn}>\r\n                <Container className=\"content-container\">\r\n                    <h1>History bid</h1>\r\n                    {console.log(this.state.waifus)}\r\n                    <Table hover responsive>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Waifu ID</th>\r\n                                <th>Name</th>\r\n                                <th>Real bid</th>\r\n                                <th>Fake bid</th>\r\n                                <th>Secret</th>\r\n                                <th>Account</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.getWaifus().map(r => r)}\r\n                        </tbody>\r\n                    </Table>\r\n                    <Button color=\"success\" onClick={this.revealAll}>REVEAL ALL</Button>\r\n                </Container>\r\n                <h1></h1>\r\n                <Container className=\"content-container\">\r\n                    <h1>Results</h1>\r\n                    {console.log(this.state.waifus)}\r\n                    <Row id=\"waifusOnAuciton\" className=\"main-table\">\r\n                        {this.createCard(this.state.bidresults)}\r\n                    </Row>\r\n                </Container>\r\n            </Fade>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default HistoryBid;\r\n\r\n"],"sourceRoot":""}