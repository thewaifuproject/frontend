{"version":3,"sources":["dist/api.js","dist/ABI.js","views/HistoryBid/HistoryBid.js"],"names":["web3","myContract","window","Web3","currentProvider","providers","HttpProvider","eth","Contract","contract","ABI","contractAddress","setCountDown","setupCoundownUI","wid","methods","creationTime","call","then","creationTimeString","Number","countDownDate","Date","getTime","day","Math","floor","month","numWaifus","pow","first","getWaifus","cback","Object","C_Users_SalahKarimAbdelbaki_Desktop_react_waifuchainuser_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","Array","keys","map","x","startBid","waifuId","etherReal","etherFake","getAccounts","accounts","console","log","account","secreto","min","max","random","bid","utils","soliditySha3","toWei","send","from","value","nid","nreal","nfake","nsecret","newbid","real","fake","secret","localStorage","getItem","setItem","JSON","stringify","logbids","wchainStorage","parse","hasOwnProperty","push","saveBidData","revealAll","waifus2reveal","addr","id","toString","_values","_v","unshift","_f","_s","reveal","module","exports","constant","inputs","name","type","outputs","payable","stateMutability","anonymous","indexed","HistoryBid","props","_this","C_Users_SalahKarimAbdelbaki_Desktop_react_waifuchainuser_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_Users_SalahKarimAbdelbaki_Desktop_react_waifuchainuser_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_SalahKarimAbdelbaki_Desktop_react_waifuchainuser_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","toggle","bind","C_Users_SalahKarimAbdelbaki_Desktop_react_waifuchainuser_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","toggleFade","state","collapse","fadeIn","timeout","waifus","setState","prevState","_this2","rows","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","key","scope","Api","className","reactstrap__WEBPACK_IMPORTED_MODULE_7__","in","hover","responsive","r","color","onClick","Component"],"mappings":"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","file":"static/js/52.921ba6d2.chunk.js","sourcesContent":["import Web3 from 'web3';\r\nimport contract from './ABI'\r\n\r\nlet web3\r\n\r\nif (typeof window.web3 !== 'undefined') {\r\n    web3 = new Web3(window.web3.currentProvider);\r\n} else {\r\n// set the provider you want from Web3.providers\r\n    web3 = new Web3(new Web3.providers.HttpProvider(\"http://localhost:8545\"));\r\n}\r\n\r\nconst myContract = new web3.eth.Contract(contract.ABI, contract.contractAddress)\r\n\r\nfunction getAccount(cback) {\r\n    web3.eth.getAccounts()\r\n        .then((accounts)=>{\r\n            cback(accounts[0])\r\n        })\r\n}\r\n\r\n/**    Api.getAccount((account)=>{\r\n      this.setState({\r\n          userAddr: account,\r\n      });\r\n  }) */\r\n\r\nfunction setCountDown(setupCoundownUI, wid) {\r\n    myContract\r\n        .methods\r\n        .creationTime()\r\n        .call()\r\n        .then( creationTimeString => {\r\n            var creationTime=Number(creationTimeString);\r\n            // Set the date we're counting down to\r\n            let countDownDate=new Date().getTime() + (1000*24*60*60 - ((new Date().getTime() - creationTime*1000)%(1000 * 60 * 60 * 24)));\r\n\r\n            let day=Math.floor((new Date()-creationTime*1000)/(1000*24*60*60));\r\n            let month=Math.floor(day/30);\r\n            if(month>3)\r\n                return []\r\n            let numWaifus=2**(3-month);\r\n            let first=450-((1-2**(4-month))/(1-2))*30+numWaifus*(day%30);\r\n\r\n            setupCoundownUI(countDownDate, (wid>=first))\r\n        })\r\n}\r\n\r\nfunction getWaifus(cback) {\r\n    myContract\r\n        .methods\r\n        .creationTime()\r\n        .call()\r\n        .then( creationTimeString => {\r\n            let day=Math.floor((new Date()-Number(creationTimeString)*1000)/(1000*24*60*60));\r\n            let month=Math.floor(day/30);\r\n            if(month>3)\r\n                return []\r\n            let numWaifus=2**(3-month);\r\n            let first=450-((1-2**(4-month))/(1-2))*30+numWaifus*(day%30);\r\n            cback([...Array(numWaifus).keys()].map((x)=>x+first))\r\n        })\r\n}\r\n\r\nfunction startBid(waifuId, etherReal, etherFake){\r\n    web3.eth.getAccounts()\r\n        .then((accounts)=>{\r\n            console.log(accounts[0], waifuId, etherReal, etherFake)\r\n            bid(accounts[0], waifuId, etherReal, etherFake)\r\n        })\r\n}\r\n\r\nfunction bid(account, waifuId, etherReal, etherFake){\r\n    var secreto = getRandomInt(0,999999999999999)\r\n    \r\n    myContract\r\n        .methods\r\n        .bid(waifuId, web3.utils.soliditySha3(web3.utils.toWei(etherReal), web3.utils.toWei(etherFake), secreto)).send({\r\n        from:account,\r\n        value:web3.utils.toWei(etherReal)\r\n    }).then(()=>{\r\n        saveBidData(account, waifuId, etherReal, etherFake, secreto)\r\n        console.log(\"puja realizada con exito\")\r\n    });\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min)) + min;\r\n}\r\n\r\nfunction saveBidData(account, nid, nreal, nfake, nsecret){\r\n    let newbid = {\r\n        'real': [nreal],\r\n        'fake': [nfake],\r\n        'secret': [nsecret]\r\n    }\r\n    if (localStorage.getItem(\"waifuchain\")==null){\r\n        localStorage.setItem(\"waifuchain\", JSON.stringify({ 'logbids' : { } }))\r\n    }\r\n    let wchainStorage = JSON.parse(localStorage.getItem(\"waifuchain\"))\r\n    if (!wchainStorage['logbids'].hasOwnProperty(account)){\r\n        wchainStorage['logbids'][account] = {}\r\n    }\r\n\r\n    if (wchainStorage['logbids'][account].hasOwnProperty(nid)){\r\n        wchainStorage['logbids'][account][nid]['real'].push(newbid['real'][0])\r\n        wchainStorage['logbids'][account][nid]['fake'].push(newbid['fake'][0])\r\n        wchainStorage['logbids'][account][nid]['secret'].push(newbid['secret'][0])\r\n    } else {\r\n        wchainStorage['logbids'][account][nid]=newbid;\r\n    }\r\n    localStorage.setItem('waifuchain', JSON.stringify(wchainStorage));\r\n}\r\n\r\nfunction revealAll(){\r\n    let waifus2reveal = JSON.parse(localStorage.getItem(\"waifuchain\"))['logbids']\r\n    console.log(waifus2reveal)\r\n    Object.keys(waifus2reveal).map(addr => {\r\n        Object.keys(waifus2reveal[addr]).map(id => {\r\n            id = id.toString()\r\n            let _values = []\r\n            waifus2reveal[addr][id]['real'].map( _v => _values.unshift(web3.utils.toWei(_v)))\r\n            let _fake = []\r\n            waifus2reveal[addr][id]['fake'].map( _f => _values.unshift(web3.utils.toWei(_f)))\r\n            let _secret = []\r\n            waifus2reveal[addr][id]['secret'].map( _s => _values.unshift(_s))\r\n            myContract\r\n                .methods\r\n                .reveal(id, _values, _fake, _secret)\r\n                .call()\r\n                .then( () => {\r\n                    console.log('OK', id)\r\n                })\r\n        })\r\n    })\r\n}\r\n\r\nexport {\r\n    setCountDown,\r\n    getWaifus,\r\n    getAccount,\r\n    startBid,\r\n    revealAll\r\n };","module.exports.contractAddress=\"0x76ffb21b2c004e39aef756484c980ce8c81b7bd0\";\r\n\r\nmodule.exports.ABI=[\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"interfaceId\",\r\n\t\t\t\t\"type\": \"bytes4\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"supportsInterface\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"name\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"getApproved\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"approve\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"totalSupply\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"voteFundOwner\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"transferFrom\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"index\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"tokenOfOwnerByIndex\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"_tokenToProfile\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"withdraw\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"safeTransferFrom\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"highestBidder\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_URL\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"setBaseURL\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"index\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"tokenByIndex\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_values\",\r\n\t\t\t\t\"type\": \"uint256[]\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_fake\",\r\n\t\t\t\t\"type\": \"bool[]\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_secret\",\r\n\t\t\t\t\"type\": \"bytes32[]\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"reveal\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_profile\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"setWaifuProfile\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ownerOf\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"balanceOf\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"bids\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"blindedBid\",\r\n\t\t\t\t\"type\": \"bytes32\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"deposit\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"symbol\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_profile\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"getWaifusInProfile\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256[]\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"waifuIndex\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"claimWaifu\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"approved\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"setApprovalForAll\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"highestBid\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_data\",\r\n\t\t\t\t\"type\": \"bytes\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"safeTransferFrom\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"tokenURI\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"creationTime\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"transferFunds\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"operator\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"isApprovedForAll\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_blindedBid\",\r\n\t\t\t\t\"type\": \"bytes32\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"bid\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": true,\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_URL\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"voteBaseURL\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"getWaifuProfile\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"name\": \"waifuIndex\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"NewBid\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"Transfer\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"approved\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"Approval\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"operator\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"name\": \"approved\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ApprovalForAll\",\r\n\t\t\"type\": \"event\"\r\n\t}\r\n]\r\n","import React, { Component } from 'react';\r\nimport { Fade, Container, Table, Button } from 'reactstrap';\r\n\r\nimport './HistoryBid.css'\r\n\r\nimport * as Api from '../../dist/api'\r\n\r\nfunction getBidHistory(){\r\n    return JSON.parse(localStorage.getItem(\"waifuchain\"))['logbids']\r\n}\r\n\r\nclass HistoryBid extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.toggle = this.toggle.bind(this);\r\n        this.toggleFade = this.toggleFade.bind(this);\r\n        this.getWaifus = this.getWaifus.bind(this)\r\n        this.revealAll = this.revealAll.bind(this)\r\n        this.state = {\r\n            collapse: true,\r\n            fadeIn: true,\r\n            timeout: 300,\r\n            waifus: getBidHistory()\r\n        };\r\n    }\r\n\r\n    toggle() {\r\n        this.setState({ collapse: !this.state.collapse });\r\n    }\r\n\r\n    toggleFade() {\r\n        this.setState((prevState) => { return { fadeIn: !prevState }});\r\n    }\r\n\r\n    getWaifus() {\r\n        let rows = []\r\n        Object.keys(this.state.waifus).map(addr => {\r\n            Object.keys(this.state.waifus[addr]).map(id => \r\n                rows.unshift(<tr key={id}>\r\n                    <th scope=\"row\">{id}</th>\r\n                    <td>Waifu</td>\r\n                    <td>{this.state.waifus[addr][id]['real']}</td>\r\n                    <td>{this.state.waifus[addr][id]['fake']}</td>\r\n                    <td>{this.state.waifus[addr][id]['secret']}</td>\r\n                    <td>{addr}</td>\r\n                </tr>)\r\n            )\r\n        })\r\n        return rows\r\n    }\r\n\r\n    revealAll() {\r\n        Api.revealAll();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"animated fadeIn\">\r\n            <Fade timeout={this.state.timeout} in={this.state.fadeIn}>\r\n                <Container className=\"_main-container\">\r\n                    <h1>History bid</h1>\r\n                    {console.log(this.state.waifus)}\r\n                    <Table hover responsive>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Waifu ID</th>\r\n                                <th>Name</th>\r\n                                <th>Real bid</th>\r\n                                <th>Fake bid</th>\r\n                                <th>Secret</th>\r\n                                <th>Account</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.getWaifus().map(r => r)}\r\n                        </tbody>\r\n                    </Table>\r\n                    <Button color=\"success\" onClick={this.revealAll}>REVEAL ALL</Button>\r\n                </Container>\r\n            </Fade>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default HistoryBid;\r\n\r\n"],"sourceRoot":""}