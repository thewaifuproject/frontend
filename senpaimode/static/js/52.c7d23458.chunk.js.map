{"version":3,"sources":["dist/tools.js","dist/api.js","dist/ABI.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/ModalSend/ModalSend.js","components/WaifuCard/WaifuCard.js","views/HistoryBid/HistoryBid.js"],"names":["getLocalStorage","account","window","localStorage","getItem","setItem","JSON","stringify","logbids","wchainStorage","parse","hasOwnProperty","web3","creationTimeString","myContract","Web3","currentProvider","providers","HttpProvider","eth","Contract","contract","ABI","contractAddress","getCreationTime","Number","getAccount","cback","getAccounts","then","accounts","getCountDown","wid","creationTime","countDownDate","Date","getTime","day","Math","floor","month","numWaifus","pow","getWaifus","first","Object","toConsumableArray","Array","keys","map","x","startBid","waifuId","etherReal","etherFake","logged","length","console","log","secreto","utils","randomHex","methods","bid","parseInt","soliditySha3","type","value","toWei","send","from","on","hash","nid","nreal","nfake","nsecret","newbid","real","fake","secret","push","saveBidData","revealAll","waifusAvailable","waifus2reveal","addr","id","indexOf","_values","forEach","_v","_fake","_f","_secret","_s","reveal","highestBidderByIDs","setupWinners","checkFinish","totalWaifus","count","waifus2check","highestBidder","call","address","claimWaifu","getWaifusByAddr","setWaifu","balanceOf","i","tokenOfOwnerByIndex","waifuIndex","sendWaifu","dest","safeTransferFrom","checkWeb3","checkNetwork","netOK","net","getId","networkId","module","exports","constant","inputs","name","outputs","payable","stateMutability","anonymous","indexed","_defineProperty","obj","key","defineProperty","enumerable","configurable","writable","__webpack_require__","d","__webpack_exports__","ModalSend","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","state","modal","address2send","toggle","bind","assertThisInitialized","handleAddressInputChange","setState","e","target","Api","waifuID","react_default","a","createElement","Fragment","reactstrap_es","color","buttonColor","className","onClick","mainButtonText","isOpen","centered","fade","waifuName","addonType","placeholder","onChange","React","Component","WaifuCard","handleButtonClick","waifuLink","concat","location","claim","dropdownOpen","waifuShortBio","prevState","_this2","fetch","res","clone","json","waifuImage","image","waifuDescription","description","fn","catch","error","message","nextProps","nextState","typeT","cardbody","href","replace","caret","_React$createElement","components_ModalSend_ModalSend","width","src","alt","text","slice","getBidHistory","WaifusList","_ref","bidresults","react__WEBPACK_IMPORTED_MODULE_7___default","waifu","reactstrap__WEBPACK_IMPORTED_MODULE_8__","lg","md","sm","_components_WaifuCard_WaifuCard__WEBPACK_IMPORTED_MODULE_9__","HistoryBid","C_Users_SalahKarimAbdelbaki_Desktop_waifuchain_org_frontend_senpaimodeproject_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","C_Users_SalahKarimAbdelbaki_Desktop_waifuchain_org_frontend_senpaimodeproject_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","C_Users_SalahKarimAbdelbaki_Desktop_waifuchain_org_frontend_senpaimodeproject_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","C_Users_SalahKarimAbdelbaki_Desktop_waifuchain_org_frontend_senpaimodeproject_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","toggleFade","setWaifuName","setown","collapse","fadeIn","timeout","waifuslog","waifuNames","endCallHighestBidder","C_Users_SalahKarimAbdelbaki_Desktop_waifuchain_org_frontend_senpaimodeproject_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","own","pending","mine","fin","stateresults","_this3","_this4","rows","unshift","scope","temp","in","hover","responsive","r"],"mappings":"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","file":"static/js/52.c7d23458.chunk.js","sourcesContent":["/**\r\n    usage:\r\n        const cancelablePromise = makeCancelable(\r\n            new Promise(r => component.setState({...}))\r\n        );\r\n\r\n        cancelablePromise\r\n            .promise\r\n            .then(() => console.log('resolved'))\r\n            .catch((reason) => console.log('isCanceled', reason.isCanceled));\r\n\r\n        cancelablePromise.cancel(); // Cancel the promise in componentWillUnmount\r\n */\r\n//https://reactjs.org/blog/2015/12/16/ismounted-antipattern.html\r\nexport const makeCancelable = (promise) => {\r\n    let hasCanceled_ = false;\r\n  \r\n    const wrappedPromise = new Promise((resolve, reject) => {\r\n      promise.then(\r\n        val => hasCanceled_ ? reject({isCanceled: true}) : resolve(val),\r\n        error => hasCanceled_ ? reject({isCanceled: true}) : reject(error)\r\n      );\r\n    });\r\n  \r\n    return {\r\n      promise: wrappedPromise,\r\n      cancel() {\r\n        hasCanceled_ = true;\r\n      },\r\n    };\r\n};\r\n\r\nexport function getLocalStorage(account){\r\n    if (window.localStorage){\r\n        if (window.localStorage.getItem(\"waifuchain\")==null){\r\n            window.localStorage.setItem(\"waifuchain\", JSON.stringify({ 'logbids' : { } }))\r\n        }\r\n        let wchainStorage = JSON.parse(window.localStorage.getItem(\"waifuchain\"))\r\n        if (!wchainStorage['logbids'].hasOwnProperty(account)){\r\n            wchainStorage['logbids'][account] = {}\r\n        }\r\n        return wchainStorage;\r\n    } else {\r\n        return null;\r\n    }\r\n}","import Web3 from 'web3';\r\nimport contract from './ABI'\r\nimport {getLocalStorage} from './tools'\r\n\r\nconst creationTimeString = \"1543902712\";\r\n\r\nlet web3\r\n\r\nif (typeof window.web3 !== 'undefined') {\r\n    web3 = new Web3(window.web3.currentProvider);\r\n} else {\r\n// set the provider you want from Web3.providers\r\n    web3 = new Web3(new Web3.providers.HttpProvider(\"http://localhost:8545\"));\r\n}\r\n\r\nconst myContract = new web3.eth.Contract(contract.ABI, contract.contractAddress)\r\n\r\nfunction getCreationTime() {\r\n    return Number(creationTimeString);\r\n}\r\n\r\nfunction getAccount(cback) {\r\n    web3.eth.getAccounts()\r\n        .then((accounts)=>{\r\n            cback(accounts[0])\r\n        })\r\n}\r\n\r\n/**    Api.getAccount((account)=>{\r\n      this.setState({\r\n          userAddr: account,\r\n      });\r\n  }) */\r\n\r\nfunction getCountDown(wid) {\r\n            var creationTime=Number(creationTimeString);\r\n            // Set the date we're counting down to\r\n            let countDownDate=new Date().getTime() + (1000*24*60*60 - ((new Date().getTime() - creationTime*1000)%(1000 * 60 * 60 * 24)));\r\n\r\n            let day=Math.floor((new Date()-creationTime*1000)/(1000*24*60*60));\r\n            let month=Math.floor(day/30);\r\n            if(month>3)\r\n                return []\r\n            let numWaifus=2**(3-month);\r\n            let first=450-((1-2**(4-month))/(1-2))*30+numWaifus*(day%30);\r\n\r\n            return [countDownDate, (wid>=first)]\r\n}\r\n\r\nfunction getWaifus() {\r\n    let day=Math.floor((new Date()-Number(creationTimeString)*1000)/(1000*24*60*60));\r\n    let month=Math.floor(day/30);\r\n    if(month>3)\r\n        return []\r\n    let numWaifus=2**(3-month);\r\n    let first=450-((1-2**(4-month))/(1-2))*30+numWaifus*(day%30);\r\n    return [...Array(numWaifus).keys()].map((x)=>x+first)\r\n}\r\n\r\nfunction startBid(waifuId, etherReal, etherFake, logged){\r\n    web3.eth.getAccounts()\r\n        .then((accounts)=>{\r\n            logged(!accounts.length)\r\n            if (accounts.length){\r\n                console.log(accounts[0], waifuId, etherReal, etherFake)\r\n                bid(accounts[0], waifuId, etherReal, etherFake)\r\n            }\r\n        })\r\n}\r\n\r\nfunction bid(account, waifuId, etherReal, etherFake){\r\n    var secreto = web3.utils.randomHex(32);\r\n    myContract\r\n        .methods\r\n        .bid(parseInt(waifuId), web3.utils.soliditySha3(\r\n                {type: 'uint256', value: web3.utils.toWei(etherReal)},\r\n                {type: 'bool', value: false},\r\n                {type: 'bytes32', value: secreto}\r\n\t)).send({\r\n        from:account,\r\n        value:web3.utils.toWei(etherFake)\r\n    }).on('transactionHash', (hash)=>{\r\n        saveBidData(account, waifuId, etherReal, etherFake, secreto)\r\n    });\r\n}\r\n\r\nfunction saveBidData(account, nid, nreal, nfake, nsecret){\r\n    let newbid = {\r\n        'real': [nreal],\r\n        'fake': [nfake],\r\n        'secret': [nsecret]\r\n    }\r\n\r\n    let wchainStorage = getLocalStorage(account)\r\n\r\n    if (wchainStorage) {\r\n        if (wchainStorage['logbids'][account].hasOwnProperty(nid)){\r\n            wchainStorage['logbids'][account][nid]['real'].push(newbid['real'][0])\r\n            wchainStorage['logbids'][account][nid]['fake'].push(newbid['fake'][0])\r\n            wchainStorage['logbids'][account][nid]['secret'].push(newbid['secret'][0])\r\n        } else {\r\n            wchainStorage['logbids'][account][nid]=newbid;\r\n        }\r\n        window.localStorage.setItem('waifuchain', JSON.stringify(wchainStorage));\r\n    } else {\r\n        //TODO: CHECK before bid if window.localStorage is accesible\r\n    }\r\n}\r\n\r\nfunction revealAll(){\r\n    let day=Math.floor((new Date()-Number(creationTimeString)*1000)/(1000*24*60*60))-1;\r\n    let month=Math.floor(day/30);\r\n    if(month>3)\r\n        return []\r\n    let numWaifus=2**(3-month);\r\n    let first=450-((1-2**(4-month))/(1-2))*30+numWaifus*(day%30);\r\n    let waifusAvailable=[...Array(numWaifus).keys()].map((x)=>x+first)\r\n \r\n    let waifus2reveal = JSON.parse(window.localStorage.getItem(\"waifuchain\"))['logbids']\r\n    console.log(waifus2reveal)\r\n    Object.keys(waifus2reveal).map(addr => {\r\n        Object.keys(waifus2reveal[addr]).map(id => {\r\n            console.log(waifusAvailable)\r\n            if(waifusAvailable.indexOf(parseInt(id))<0){\r\n                return -1\r\n            }\r\n\r\n            let _values = []\r\n            waifus2reveal[addr][id]['real'].forEach( _v => _values.push(web3.utils.toWei(_v)))\r\n            let _fake = []\r\n            waifus2reveal[addr][id]['fake'].forEach( _f => _fake.push(false))\r\n            let _secret = []\r\n            waifus2reveal[addr][id]['secret'].forEach( _s => _secret.push(_s))\r\n            console.log('Reveal params: ', parseInt(id), _values, _fake, _secret)\r\n\r\n            myContract\r\n                .methods\r\n                .reveal(parseInt(id), _values, _fake, _secret)\r\n                .send({from: addr})\r\n                .then( () => {\r\n                    console.log(parseInt(id), _values, _fake, _secret)\r\n                })\r\n        })\r\n    })\r\n}\r\n\r\nfunction highestBidderByIDs(setupWinners, checkFinish){\r\n\r\n    getAccount((account)=>{\r\n        let totalWaifus = 0\r\n        let count = 0;\r\n        let waifus2check = getLocalStorage(account)['logbids']\r\n        Object.keys(waifus2check).map(addr => {\r\n            Object.keys(waifus2check[addr]).map(id => {\r\n                totalWaifus++;\r\n            })\r\n        })\r\n        if (waifus2check != null){\r\n            console.log(waifus2check)\r\n            Object.keys(waifus2check).map(addr => {\r\n                Object.keys(waifus2check[addr]).map(id => {\r\n                    myContract\r\n                        .methods\r\n                        .highestBidder(parseInt(id))\r\n                        .call()\r\n                        .then( (address) => {\r\n                            count++\r\n                            setupWinners(id, address, account)\r\n                            checkFinish(totalWaifus<=count)\r\n                        })\r\n                })\r\n            })\r\n        } else {\r\n            console.log(\"no storage\")\r\n            //add code to indicate that it could not load correctly\r\n        }\r\n    })\r\n    \r\n}\r\n\r\nfunction claimWaifu(id){\r\n    getAccount((account)=>{\r\n        myContract\r\n            .methods\r\n            .claimWaifu(parseInt(id))\r\n            .send({from: account})\r\n            .then(() => {\r\n                console.log(\"Claimed \", id)\r\n                //register claim\r\n            })\r\n    })\r\n}\r\n\r\nfunction getWaifusByAddr(setWaifu){\r\n    getAccount((account)=>{\r\n        if (account)\r\n        myContract\r\n        .methods\r\n        .balanceOf(account)\r\n        .call()\r\n        .then((numWaifus) => {\r\n            console.log('balanceOf(account): ', numWaifus, [account])\r\n            for (let i = 0; i < numWaifus; i++) {\r\n                myContract\r\n                    .methods\r\n                    .tokenOfOwnerByIndex(account, i)\r\n                    .call()\r\n                    .then((waifuIndex) => {\r\n                        setWaifu(waifuIndex)\r\n                    })\r\n            }\r\n        })\r\n    })\r\n    \r\n}\r\n\r\nfunction sendWaifu(dest, id){\r\n    getAccount((account)=>{\r\n    console.log(account, id)\r\n       myContract\r\n        .methods\r\n        .safeTransferFrom(account, dest, id)\r\n        .send({from: account})\r\n        .then(()=>console.log('safeTransferFrom', account, dest, id, 'sent'))\r\n    })\r\n}\r\n\r\nfunction checkWeb3(){\r\n\treturn !(typeof web3 !== 'undefined');\r\n}\r\n\r\nfunction checkNetwork(netOK){\r\n    web3.eth.net.getId().then((networkId)=>netOK(networkId==4));\r\n}\r\n\r\nexport {\r\n    getCreationTime,\r\n    getCountDown,\r\n    getWaifus,\r\n    getAccount,\r\n    startBid,\r\n    revealAll,\r\n    highestBidderByIDs,\r\n    claimWaifu,\r\n    getWaifusByAddr,\r\n    checkWeb3,\r\n    checkNetwork,\r\n    sendWaifu\r\n };\r\n","module.exports.contractAddress=\"0x76ffb21b2c004e39aef756484c980ce8c81b7bd0\";\r\n\r\nmodule.exports.ABI=[\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"interfaceId\",\r\n\t\t\t\t\"type\": \"bytes4\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"supportsInterface\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"name\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"getApproved\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"approve\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"totalSupply\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"voteFundOwner\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"transferFrom\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"index\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"tokenOfOwnerByIndex\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"_tokenToProfile\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"withdraw\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"safeTransferFrom\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"highestBidder\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_URL\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"setBaseURL\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"index\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"tokenByIndex\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_values\",\r\n\t\t\t\t\"type\": \"uint256[]\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_fake\",\r\n\t\t\t\t\"type\": \"bool[]\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_secret\",\r\n\t\t\t\t\"type\": \"bytes32[]\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"reveal\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_profile\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"setWaifuProfile\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ownerOf\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"balanceOf\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"bids\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"blindedBid\",\r\n\t\t\t\t\"type\": \"bytes32\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"deposit\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"symbol\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_profile\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"getWaifusInProfile\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256[]\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"waifuIndex\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"claimWaifu\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"approved\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"setApprovalForAll\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"highestBid\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_data\",\r\n\t\t\t\t\"type\": \"bytes\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"safeTransferFrom\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"tokenURI\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"creationTime\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"transferFunds\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"operator\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"isApprovedForAll\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_blindedBid\",\r\n\t\t\t\t\"type\": \"bytes32\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"bid\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": true,\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_URL\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"voteBaseURL\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"getWaifuProfile\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"name\": \"waifuIndex\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"NewBid\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"Transfer\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"approved\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"Approval\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"operator\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"name\": \"approved\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ApprovalForAll\",\r\n\t\t\"type\": \"event\"\r\n\t}\r\n]\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React from 'react';\r\nimport { Button, Modal, ModalBody } from 'reactstrap';\r\nimport { InputGroup, InputGroupAddon, InputGroupText, Input } from 'reactstrap';\r\n\r\nimport * as Api from '../../dist/api'\r\n\r\nclass ModalSend extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modal: false,\r\n      address2send: ''\r\n    };\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.handleAddressInputChange = this.handleAddressInputChange.bind(this)\r\n    this.sendWaifu = this.sendWaifu.bind(this)\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({\r\n      modal: !this.state.modal\r\n    });\r\n  }\r\n\r\n  handleAddressInputChange(e){\r\n    this.setState({address2send: e.target.value});\r\n  }\r\n\r\n  sendWaifu(){\r\n    Api.sendWaifu(this.state.address2send, this.props.waifuID)\r\n    this.toggle()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Button color={this.props.buttonColor} className=\"p-2 flex-grow-1 bd-highlight\" onClick={this.toggle}>\r\n          {this.props.mainButtonText}\r\n        </Button>\r\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className}\r\n          centered={true} fade={false}>\r\n          <ModalBody>\r\n            <p>Do you want to send {this.props.waifuName} to someone else?</p>\r\n            <InputGroup>\r\n              <InputGroupAddon addonType=\"prepend\">Address</InputGroupAddon>\r\n              <Input placeholder=\"0x56c77d84caf29adc6f0bCd02e51a8a33a13Ed749\" onChange={this.handleAddressInputChange}/>\r\n              <InputGroupAddon addonType=\"prepend\"><Button color=\"purple\" onClick={this.sendWaifu}>Send</Button></InputGroupAddon>\r\n            </InputGroup>\r\n          </ModalBody>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ModalSend;","import React, { Component } from 'react';\r\nimport { Card, CardBody, CardImg, CardTitle, CardSubtitle, CardText } from 'reactstrap';\r\nimport { ButtonGroup, Button, ButtonDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\r\nimport './WaifuCard.css';\r\n\r\nimport ModalSend from '../../components/ModalSend/ModalSend'\r\n\r\nimport * as Api from '../../dist/api'\r\n\r\nlet mounted;\r\n\r\nclass WaifuCard extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleButtonClick = this.handleButtonClick.bind(this)\r\n    this.toggle = this.toggle.bind(this);\r\n    this.claim = this.claim.bind(this);\r\n    this.state = {\r\n      dropdownOpen: false,\r\n      waifuShortBio:'',\r\n      waifuName:'',\r\n      buttonColor: 'purple'\r\n    };\r\n    \r\n  }\r\n\r\n  toggle() {\r\n    this.setState(prevState => ({\r\n      dropdownOpen: !prevState.dropdownOpen\r\n    }));\r\n  }\r\n\r\n  componentWillMount() {\r\n    //mounted = true;\r\n    //console.log(\"componentWillMount\", mounted) may\r\n    fetch('https://api.waifuchain.moe/?waifu='+this.props.id) //TODO: cancel fetch on componentWillUnmount\r\n    .then(res => {\r\n      return res.clone().json()\r\n    }).then(res => {\r\n      //console.log(mounted)\r\n      //if (mounted) {\r\n        this.setState({ waifuName: res.name,\r\n                        waifuImage: res.image,\r\n                        waifuDescription: res.description,\r\n                        waifuShortBio: fn(res.description,50)});\r\n      //}\r\n    }).catch(function(error) {\r\n      console.log('Hubo un problema con la petición Fetch:' + error.message);\r\n    });\r\n    \r\n  }\r\n\r\n  componentWillUpdate(nextProps, nextState) {\r\n    //this.setState({buttonColor: nextProps.buttonColor})\r\n  }\r\n\r\n  handleButtonClick = () => {\r\n    const waifuLink = `#/waifus/${this.props.id}`\r\n    window.location=waifuLink\r\n  };\r\n\r\n  claim(){\r\n    if (this.props.typeT==='claim'){\r\n      Api.claimWaifu(this.props.id);\r\n    }\r\n  }\r\n\r\n  //componentWillUnmount(){\r\n  //  mounted = false;\r\n  //  console.log(\"componentWillUnmount\", mounted)\r\n  //}\r\n\r\n  render() {\r\n    let cardbody = (\r\n        <CardBody>\r\n        <CardTitle>{this.state.waifuName}</CardTitle>\r\n        <CardText>{fn(this.state.waifuShortBio,50)}</CardText>\r\n          <ButtonGroup className=\"d-flex bd-highlight\">\r\n            <a className='nostile width100' href={\"https://waifu.wiki/index.php/\"+this.state.waifuName.replace(' ', '_')} target='__blank'><Button color={this.props.buttonColor} className=\"p-2 flex-grow-1 bd-highlight width100\" onClick={this.claim}>{this.props.mainButtonText}</Button></a>\r\n          </ButtonGroup>\r\n        </CardBody>\r\n    )\r\n    if (this.props.typeT==='drop'){\r\n      cardbody = (\r\n        <CardBody>\r\n            <CardTitle>{this.state.waifuName}</CardTitle>\r\n            <CardText>{fn(this.state.waifuShortBio,50)}</CardText>\r\n            <ButtonGroup className=\"d-flex bd-highlight\">\r\n            <Button id=\"buttontourjs\" color={this.props.buttonColor} className=\"p-2 flex-grow-1 bd-highlight\" onClick={this.handleButtonClick}>\r\n              {this.props.mainButtonText}\r\n            </Button>\r\n            <ButtonDropdown isOpen={this.state.dropdownOpen} toggle={this.toggle}>\r\n        <DropdownToggle color={this.props.buttonColor} caret></DropdownToggle>\r\n        <DropdownMenu>\r\n          <a className='nostile' href={\"https://waifu.wiki/index.php/\"+this.state.waifuName.replace(' ', '_')} target='__blank'><DropdownItem className=\"pointa\">See on the wiki</DropdownItem></a>\r\n        </DropdownMenu>\r\n      </ButtonDropdown>\r\n            </ButtonGroup>\r\n          </CardBody>\r\n      )\r\n    } else if (this.props.typeT==='claim'){\r\n      cardbody = (\r\n        <CardBody>\r\n        <CardTitle>{this.state.waifuName}</CardTitle>\r\n        <CardText>{fn(this.state.waifuShortBio,50)}</CardText>\r\n          <ButtonGroup className=\"d-flex bd-highlight\">\r\n            <Button color={this.props.buttonColor} className=\"p-2 flex-grow-1 bd-highlight width100\" onClick={this.claim}>{this.props.mainButtonText}</Button>\r\n          </ButtonGroup>\r\n        </CardBody>\r\n      )\r\n    } else if (this.props.typeT==='wallet'){\r\n      cardbody = (\r\n        <CardBody>\r\n            <CardTitle>{this.state.waifuName}</CardTitle>\r\n            <CardText>{fn(this.state.waifuShortBio,50)}</CardText>\r\n            <ButtonGroup className=\"d-flex bd-highlight\">\r\n              <ModalSend mainButtonText={this.props.mainButtonText} buttonColor={this.props.buttonColor}\r\n              mainButtonText={this.props.mainButtonText} waifuName={this.state.waifuName} waifuID={this.props.id}/>\r\n              <ButtonDropdown isOpen={this.state.dropdownOpen} toggle={this.toggle}>\r\n                <DropdownToggle color={this.props.buttonColor} caret></DropdownToggle>\r\n                <DropdownMenu>\r\n                  <a className='nostile'><DropdownItem className=\"pointa\">Assign to... (soon available)</DropdownItem></a>\r\n                </DropdownMenu>\r\n              </ButtonDropdown>\r\n            </ButtonGroup>\r\n          </CardBody>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Card>\r\n          <CardImg className=\"fixedH-auction\" width=\"100%\" src={this.state.waifuImage} alt={this.state.waifuImage} />\r\n          {cardbody}\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nfunction fn(text, count){\r\n  return text.slice(0, count) + (text.length > count ? \"...\" : \"\");\r\n}\r\n\r\nexport default WaifuCard;","import React, { Component } from 'react';\r\nimport { Fade, Container, Table, Button, Col, Row } from 'reactstrap';\r\nimport WaifuCard from '../../components/WaifuCard/WaifuCard'\r\n\r\nimport './HistoryBid.css'\r\n\r\nimport * as Api from '../../dist/api'\r\n\r\nfunction getBidHistory(){\r\n    var log = JSON.parse(localStorage.getItem(\"waifuchain\"))\r\n    if (log==null)\r\n        return null\r\n    else\r\n        return log['logbids']\r\n}\r\n\r\nconst WaifusList = ({bidresults}) => (\r\n    <>\r\n    {bidresults.map(waifu => (\r\n        <Col lg=\"3\" md=\"4\" sm=\"6\" key={waifu['id']} >\r\n            <WaifuCard id={waifu['id']} mainButtonText={(waifu['mine'])? \"Mine!\" : (waifu['pending']) ? \"Pending\" : (waifu['own']) ? \"Claim now\" : \"See on the wiki\"} typeT={(waifu['mine']) ? \"mineH\" : (waifu['pending']) ? \"pending\" : ((waifu['own']) ? \"claim\" : \"lost\")} buttonColor={(waifu['mine']) ? \"success\" : (waifu['pending']) ? \"purple\" : ((waifu['own']) ? \"success\" : \"warning\")}/>       \r\n        </Col>\r\n    ))}\r\n    </>\r\n);\r\n\r\nclass HistoryBid extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.toggle = this.toggle.bind(this);\r\n        this.toggleFade = this.toggleFade.bind(this);\r\n        this.getWaifus = this.getWaifus.bind(this)\r\n        this.revealAll = this.revealAll.bind(this)\r\n        this.setWaifuName = this.setWaifuName.bind(this)\r\n        this.setown = this.setown.bind(this)\r\n        this.state = {\r\n            collapse: true,\r\n            fadeIn: true,\r\n            timeout: 300,\r\n            bidresults: [],\r\n            waifuslog: getBidHistory(),\r\n            waifuNames: {},\r\n            endCallHighestBidder: false\r\n        };\r\n\r\n        let day=Math.floor((new Date()-Number(Api.getCreationTime())*1000)/(1000*24*60*60))-1;\r\n        let month=Math.floor(day/30);\r\n        if(month>3)\r\n            return []\r\n        let numWaifus=2**(3-month);\r\n        let first=450-((1-2**(4-month))/(1-2))*30+numWaifus*(day%30);\r\n        let waifusAvailable=[...Array(numWaifus).keys()].map((x)=>x+first)\r\n\r\n        Api.highestBidderByIDs((id, addr, account) => {\r\n            this.setState({\r\n                bidresults: this.state.bidresults.concat({id:id, own:(addr===account), pending:(id>=waifusAvailable[0]), mine:false}),\r\n            });\r\n        }, (fin) => {\r\n            this.setState({\r\n                endCallHighestBidder: fin\r\n            });\r\n            if (fin) {\r\n                this.setown()\r\n            }\r\n        })\r\n    }\r\n\r\n    setown(){\r\n        Api.getWaifusByAddr((waifuIndex)=>{\r\n            this.state.bidresults.forEach((waifu, i) => {\r\n                if (waifu['id'] == waifuIndex){\r\n                    let stateresults = this.state.bidresults\r\n                    stateresults[i]['mine'] = true\r\n                    this.setState({\r\n                        bidresults: stateresults,\r\n                    });\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    componentWillMount() {\r\n        Object.keys(this.state.waifuslog).map(addr =>\r\n            Object.keys(this.state.waifuslog[addr]).map(id => \r\n                fetch('https://api.waifuchain.moe/?waifu='+id)\r\n                    .then(res => {\r\n                        return res.clone().json()\r\n                    }).then(res => {\r\n                        this.setWaifuName(id, res.name)\r\n                    }).catch(function(error) {\r\n                        console.log('Hubo un problema con la petición Fetch:' + error.message);\r\n                    })\r\n            )\r\n        )\r\n    }\r\n\r\n    toggle() {\r\n        this.setState({ collapse: !this.state.collapse });\r\n    }\r\n\r\n    toggleFade() {\r\n        this.setState((prevState) => { return { fadeIn: !prevState }});\r\n    }\r\n\r\n    getWaifus() {\r\n        let rows = []\r\n        if (this.state.waifuslog===null || Object.keys(this.state.waifuslog).length == 0)\r\n            rows.push()\r\n        else\r\n            Object.keys(this.state.waifuslog).map(addr =>\r\n                Object.keys(this.state.waifuslog[addr]).map(id => {\r\n                    for(let i=0; i<this.state.waifuslog[addr][id]['real'].length; i++){\r\n                        rows.unshift(<tr key={id}>\r\n                            <th scope=\"row\">{id}</th>\r\n                            <td>{this.state.waifuNames[id]}</td>\r\n                            <td>{this.state.waifuslog[addr][id]['real'][i]}</td>\r\n                            <td>{this.state.waifuslog[addr][id]['fake'][i]}</td>\r\n                            <td>{this.state.waifuslog[addr][id]['secret'][i]}</td>\r\n                            <td>{addr}</td>\r\n                        </tr>)\r\n                    }\r\n                })\r\n            )\r\n        return rows\r\n    }\r\n\r\n    revealAll() {\r\n        Api.revealAll();\r\n    }\r\n\r\n    setWaifuName(id, name){\r\n        let temp = this.state.waifuNames\r\n        temp[id] = name\r\n        this.setState( {waifuNames:temp} )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"animated fadeIn\">\r\n            <Fade timeout={this.state.timeout} in={this.state.fadeIn}>\r\n                <Container className=\"content-container\">\r\n                    <h1>History bid</h1>\r\n                    <Table hover responsive>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Waifu ID</th>\r\n                                <th>Name</th>\r\n                                <th>Real bid</th>\r\n                                <th>Fake bid</th>\r\n                                <th>Secret</th>\r\n                                <th>Account</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.getWaifus().map(r => r)}\r\n                        </tbody>\r\n                    </Table>\r\n                    <Button color=\"success\" onClick={this.revealAll}>REVEAL ALL</Button>\r\n                </Container>\r\n                <h1></h1>\r\n                <Container className=\"content-container\">\r\n                    <h1 className=\"main-table\">Results</h1>\r\n                    <Row className=\"main-table\">\r\n                        <WaifusList bidresults={this.state.bidresults} />\r\n                    </Row>\r\n                </Container>\r\n            </Fade>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default HistoryBid;\r\n\r\n"],"sourceRoot":""}